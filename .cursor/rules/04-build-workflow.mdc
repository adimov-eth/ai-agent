---
description: 
globs: 
alwaysApply: false
---
# Build and Development Workflow

This project uses pnpm for package management and Mastra AI development tools. The shared types package uses Bun for TypeScript builds.

## Development Workflow

1. **Watch Mode Development**
   - Run `pnpm dev` from root for development
   - Mastra dev server watches AI package
   - Types auto-rebuild on changes
   - [packages/shared/types/index.ts](mdc:packages/shared/types/index.ts) changes trigger rebuilds

2. **Package Scripts**
   - `pnpm build`: Build all packages for production
   - `pnpm dev`: Watch mode for development
   - `pnpm clean`: Remove build artifacts
   - Individual package scripts defined in respective package.json files

## Build Order

1. **Shared Package (Bun)**
   - Built first due to type dependencies
   - [packages/shared/package.json](mdc:packages/shared/package.json) defines build process
   - Uses Bun for TypeScript compilation

2. **AI Package (Mastra)**
   - [packages/ai/package.json](mdc:packages/ai/package.json) defines Mastra configuration
   - Uses Mastra dev server for development
   - Depends on shared types
   - Managed by pnpm workspace scripts

## Type Management

1. **Type Updates**
   - Update types in [packages/shared/types/index.ts](mdc:packages/shared/types/index.ts)
   - Types auto-rebuild in watch mode
   - Changes propagate to dependent packages
   - No manual rebuilds needed in dev mode

2. **Build Verification**
   - Run `pnpm typecheck` to verify types
   - CI runs type checks on all packages
   - No runtime type errors allowed
   - Clear type error messages required
